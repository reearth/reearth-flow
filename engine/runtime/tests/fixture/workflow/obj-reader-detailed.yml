id: "550e8400-e29b-41d4-a716-446655440000"
name: "Test Detailed OBJ Reader Workflow"
entryGraphId: "550e8400-e29b-41d4-a716-446655440001"
with:
  objFile: "runtime/tests/fixture/testdata/obj/detailed.obj"

graphs:
  - id: "550e8400-e29b-41d4-a716-446655440001"
    name: "Detailed OBJ Processing Graph"
    nodes:
      # Test with all features enabled
      - id: "550e8400-e29b-41d4-a716-446655440002"
        name: "Read Detailed OBJ - All Features"
        type: "action"
        action: "ObjReader"
        with:
          dataset: "runtime/tests/fixture/testdata/obj/detailed.obj"
          parseMaterials: true
          triangulate: false
          mergeGroups: false
          includeNormals: true
          includeTexcoords: true

      # Test with triangulation
      - id: "550e8400-e29b-41d4-a716-446655440003"
        name: "Read OBJ - With Triangulation"
        type: "action"
        action: "ObjReader"
        with:
          dataset: "runtime/tests/fixture/testdata/obj/detailed.obj"
          parseMaterials: true
          triangulate: true
          mergeGroups: false
          includeNormals: true
          includeTexcoords: true

      # Test with merged groups
      - id: "550e8400-e29b-41d4-a716-446655440004"
        name: "Read OBJ - Merged Groups"
        type: "action"
        action: "ObjReader"
        with:
          dataset: "runtime/tests/fixture/testdata/obj/detailed.obj"
          parseMaterials: false
          triangulate: false
          mergeGroups: true
          includeNormals: false
          includeTexcoords: false

      # Write outputs
      - id: "550e8400-e29b-41d4-a716-446655440005"
        name: "Write All Features Output"
        type: "action"
        action: "FeatureWriter"
        with:
          output: "\"output_all_features.json\""
          format: "json"

      - id: "550e8400-e29b-41d4-a716-446655440006"
        name: "Write Triangulated Output"
        type: "action"
        action: "FeatureWriter"
        with:
          output: "\"output_triangulated.json\""
          format: "json"

      - id: "550e8400-e29b-41d4-a716-446655440007"
        name: "Write Merged Output"
        type: "action"
        action: "FeatureWriter"
        with:
          output: "\"output_merged.json\""
          format: "json"

    edges:
      - id: "550e8400-e29b-41d4-a716-446655440008"
        from: "550e8400-e29b-41d4-a716-446655440002"
        to: "550e8400-e29b-41d4-a716-446655440005"
        fromPort: "default"
        toPort: "default"

      - id: "550e8400-e29b-41d4-a716-446655440009"
        from: "550e8400-e29b-41d4-a716-446655440003"
        to: "550e8400-e29b-41d4-a716-446655440006"
        fromPort: "default"
        toPort: "default"

      - id: "550e8400-e29b-41d4-a716-446655440010"
        from: "550e8400-e29b-41d4-a716-446655440004"
        to: "550e8400-e29b-41d4-a716-446655440007"
        fromPort: "default"
        toPort: "default"