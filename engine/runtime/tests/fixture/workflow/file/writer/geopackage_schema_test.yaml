id: 01234567-0000-0000-0000-000000000201
name: GeoPackageWriter Schema Test - Verify all attributes are captured
entryGraphId: 01234567-0000-0000-0000-000000000202
with:
  outputFilePath:

graphs:
  - id: 01234567-0000-0000-0000-000000000202
    name: Main
    nodes:
      - id: 01234567-0000-0000-0000-000000000203
        name: CreateFeature1
        type: action
        action: FeatureCreator
        with:
          attributes:
            attr1: "value1"
            attr2: 123

      - id: 01234567-0000-0000-0000-000000000204
        name: CreateFeature2
        type: action
        action: FeatureCreator
        with:
          attributes:
            attr1: "value2"
            attr3: "new_attribute"  # This should not be lost

      - id: 01234567-0000-0000-0000-000000000205
        name: WriteGeoPackage
        type: action
        action: GeoPackageWriter
        with:
          output: ram:///schema_test.gpkg
          tableName: "test_table"
          geometryColumn: "geom"
          overwrite: true

      - id: 01234567-0000-0000-0000-000000000206
        name: ReadBack
        type: action
        action: GeoPackageReader
        with:
          dataset: ram:///schema_test.gpkg
          readMode: all

      - id: 01234567-0000-0000-0000-000000000207
        name: WriteToFile
        type: action
        action: JsonWriter
        with:
          output: |
            env.get("outputFilePath")

    edges:
      - id: 01234567-0000-0000-0000-000000000208
        from: 01234567-0000-0000-0000-000000000203
        to: 01234567-0000-0000-0000-000000000205
        fromPort: default
        toPort: default

      - id: 01234567-0000-0000-0000-000000000209
        from: 01234567-0000-0000-0000-000000000204
        to: 01234567-0000-0000-0000-000000000205
        fromPort: default
        toPort: default

      - id: 01234567-0000-0000-0000-000000000210
        from: 01234567-0000-0000-0000-000000000206
        to: 01234567-0000-0000-0000-000000000207
        fromPort: default
        toPort: default

