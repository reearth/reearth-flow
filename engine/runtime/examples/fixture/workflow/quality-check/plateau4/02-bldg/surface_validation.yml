id: a9952b0d-e085-4a0b-bb76-fa36b969c96b
name: SurfaceValidation01
nodes:
  - id: 5d8f3c2e-9a4b-4e1c-8f7a-3c5d9e2b8a1f
    name: InputRouter
    type: action
    action: InputRouter
    with:
      routingPort: default

  - id: e9f2c5b8-3a7d-4c1e-8b6f-2d9a5c8e1b4f
    name: PLATEAU3.LodSplitterWithDM
    type: subGraph
    subGraphId: 7e98d856-1438-4148-bdcb-91747ef2e405

  # SurfaceValidator2D (LOD0)
  - id: 3c8d9e7f-2a5b-4f1c-8e6a-9d3c5b8e1a4f
    name: PLATEAU3.SurfaceValidator2D
    type: subGraph
    subGraphId: 8a5b1c9d-2e4f-4a3b-9c5d-1e6f8a2b4c7d

  - id: b1f5a9c3-7e2d-4a8c-9f6b-2d8e5c3a7b9f
    name: AttributeManagerLod0InvalidSurface
    type: action
    action: AttributeManager
    with:
      operations:
        - attribute: gmlFilename
          method: rename
          value: filename
        - attribute: featureType
          method: rename
          value: feature_type
        - attribute: gmlId
          method: rename
          value: gml_id
        - attribute: issue
          method: create
          value: |
            let value = env.get("__value");
            if value.validationResult?.details != () {
              return value.validationResult.details[0][0];
            }
            if "issue" in value {
              return value.issue;
            }
            "UnknownError"

        # remove
        - attribute: validationResult
          method: remove
        - attribute: surfaceId
          method: remove
        - attribute: dirCodelists
          method: remove
        - attribute: featureIndex
          method: remove
        - attribute: featureId
          method: remove
        - attribute: gmlPath
          method: remove
        - attribute: fileIndex
          method: remove
        - attribute: holeCount
          method: remove
        - attribute: maxLod
          method: remove
        - attribute: cityGmlAttributes
          method: remove
        - attribute: featureParentId
          method: remove
        - attribute: dumpGeometry
          method: remove
        - attribute: gmlName
          method: remove
        - attribute: geometryName
          method: remove
        - attribute: gmlRootId
          method: remove
        #
        - attribute: baseCityCode
          method: remove
        - attribute: cityCode
          method: remove
        - attribute: extension
          method: remove
        - attribute: package
          method: remove
        - attribute: root
          method: remove
        - attribute: admin
          method: remove
        - attribute: area
          method: remove
        - attribute: dirRoot
          method: remove
        - attribute: udxDirs
          method: remove
        - attribute: codelists
          method: remove
        - attribute: dirSchemas
          method: remove
        - attribute: schemas
          method: remove
        - attribute: objectListPath
          method: remove

  - id: a7b3c9e5-4f8d-4c2e-9a1b-6e3f5d8c2a7b
    name: FeatureWriterLod0IncorrectOrientation
    type: action
    action: FeatureWriter
    with:
      format: csv
      output: |
        file::join_path(env.get("workerArtifactPath") ?? env.get("outputPath"), "02_建築物_LOD0面の向きエラー.csv")

  - id: 11a1b2c3-4d5e-6f7a-8b9c-0d1e2f3a4b5c
    name: Lod0IncorrectOrientationCounter
    type: action
    action: StatisticsCalculator
    with:
      aggregateName: gmlFilename
      aggregateAttribute: gmlFilename
      calculations:
        - newAttribute: _num_lod0_incorrect_orientation
          expr: "1"

  - id: 22b2c3d4-5e6f-7a8b-9c0d-1e2f3a4b5c6d
    name: ErrorCount-Lod0IncorrectOrientation
    type: action
    action: OutputRouter
    with:
      routingPort: errorCountLod0IncorrectOrientation

  - id: f8e2a4c6-5d9b-4f7e-8c3a-1e6d4b8f2c5a
    name: FeatureWriterLod0InvalidSurface
    type: action
    action: FeatureWriter
    with:
      format: csv
      output: |
        file::join_path(env.get("workerArtifactPath") ?? env.get("outputPath"), "02_建築物_LOD0面のエラー.csv")

  - id: 33c3d4e5-6f7a-8b9c-0d1e-2f3a4b5c6d7e
    name: Lod0InvalidSurfaceCounter
    type: action
    action: StatisticsCalculator
    with:
      aggregateName: gmlFilename
      aggregateAttribute: gmlFilename
      calculations:
        - newAttribute: _num_lod0_invalid_surface
          expr: "1"

  - id: 44d4e5f6-7a8b-9c0d-1e2f-3a4b5c6d7e8f
    name: ErrorCount-Lod0InvalidSurface
    type: action
    action: OutputRouter
    with:
      routingPort: errorCountLod0InvalidSurface

  # SurfaceValidator3D (LOD1)
  - id: 950407af-eec5-49ee-902c-2b41f31150d3
    name: PLATEAU3.SurfaceValidator3D_LOD1
    type: subGraph
    subGraphId: 8a5b1c9d-2e4f-4a3b-9c5d-1e6f8a2b4c7d

  - id: c2e8f4a6-9b3d-4e7c-8a5f-1d9b6e4c7f2a
    name: AttributeManagerLod1InvalidSurface
    type: action
    action: AttributeManager
    with:
      operations:
        - attribute: gmlFilename
          method: rename
          value: filename
        - attribute: featureType
          method: rename
          value: feature_type
        - attribute: gmlId
          method: rename
          value: gml_id
        - attribute: issue
          method: create
          value: |
            let value = env.get("__value");
            if value.validationResult?.details != () {
              return value.validationResult.details[0][0];
            }
            if "issue" in value {
              return value.issue;
            }
            "UnknownError"

        # remove
        - attribute: validationResult
          method: remove
        - attribute: surfaceId
          method: remove
        - attribute: dirCodelists
          method: remove
        - attribute: featureIndex
          method: remove
        - attribute: featureId
          method: remove
        - attribute: gmlPath
          method: remove
        - attribute: fileIndex
          method: remove
        - attribute: holeCount
          method: remove
        - attribute: maxLod
          method: remove
        - attribute: cityGmlAttributes
          method: remove
        - attribute: featureParentId
          method: remove
        - attribute: dumpGeometry
          method: remove
        - attribute: gmlName
          method: remove
        - attribute: geometryName
          method: remove
        - attribute: gmlRootId
          method: remove
        #
        - attribute: baseCityCode
          method: remove
        - attribute: cityCode
          method: remove
        - attribute: extension
          method: remove
        - attribute: package
          method: remove
        - attribute: root
          method: remove
        - attribute: admin
          method: remove
        - attribute: area
          method: remove
        - attribute: dirRoot
          method: remove
        - attribute: udxDirs
          method: remove
        - attribute: codelists
          method: remove
        - attribute: dirSchemas
          method: remove
        - attribute: schemas
          method: remove
        - attribute: objectListPath
          method: remove

  - id: d5a7b9f3-6e4c-4d8a-9f2b-3c7e8d5a6b9f
    name: FeatureWriterLod1InvalidSurface
    type: action
    action: FeatureWriter
    with:
      format: csv
      output: |
        file::join_path(env.get("workerArtifactPath") ?? env.get("outputPath"), "02_建築物_LOD1境界面のエラー.csv")

  - id: 55e5f6a7-8b9c-0d1e-2f3a-4b5c6d7e8f9a
    name: Lod1InvalidSurfaceCounter
    type: action
    action: StatisticsCalculator
    with:
      aggregateName: gmlFilename
      aggregateAttribute: gmlFilename
      calculations:
        - newAttribute: _num_lod1_invalid_surface
          expr: "1"

  - id: 66f6a7b8-9c0d-1e2f-3a4b-5c6d7e8f9a0b
    name: ErrorCount-Lod1InvalidSurface
    type: action
    action: OutputRouter
    with:
      routingPort: errorCountLod1InvalidSurface

  # SurfaceValidator3D (LOD2,3,4)
  # FIXME: replace this with GeometryFilter.
  #   Send `Surface`s to `SurfaceValidator3D` and `Solid`s to `SolidBoundaryValidator`
  - id: 4f7a9b2e-5c8d-4e3a-9f6b-1d4c7e9a2b5f
    name: Dummy_GeometryFilter
    type: action
    action: NoopProcessor

  - id: 3b6e9c5d-8f2a-4d7b-9e3c-6a1f4b9e2c5d
    name: PLATEAU3.SurfaceValidator3D_LOD2-4
    type: subGraph
    subGraphId: 8a5b1c9d-2e4f-4a3b-9c5d-1e6f8a2b4c7d

  - id: 7f2a5c8d-4b9e-4c3a-9f6d-2e8b5c7a4f9d
    name: AttributeManagerLod2-4InvalidSurface
    type: action
    action: AttributeManager
    with:
      operations:
        - attribute: gmlFilename
          method: rename
          value: filename
        - attribute: featureType
          method: rename
          value: feature_type
        - attribute: gmlId
          method: rename
          value: gml_id
        - attribute: issue
          method: create
          value: |
            let value = env.get("__value");
            if value.validationResult?.details != () {
              return value.validationResult.details[0][0];
            }
            if "issue" in value {
              return value.issue;
            }
            "UnknownError"

        # remove
        - attribute: validationResult
          method: remove
        - attribute: surfaceId
          method: remove
        - attribute: dirCodelists
          method: remove
        - attribute: featureIndex
          method: remove
        - attribute: featureId
          method: remove
        - attribute: gmlPath
          method: remove
        - attribute: fileIndex
          method: remove
        - attribute: holeCount
          method: remove
        - attribute: maxLod
          method: remove
        - attribute: cityGmlAttributes
          method: remove
        - attribute: featureParentId
          method: remove
        - attribute: dumpGeometry
          method: remove
        - attribute: gmlName
          method: remove
        - attribute: geometryName
          method: remove
        - attribute: gmlRootId
          method: remove
        #
        - attribute: baseCityCode
          method: remove
        - attribute: cityCode
          method: remove
        - attribute: extension
          method: remove
        - attribute: package
          method: remove
        - attribute: root
          method: remove
        - attribute: admin
          method: remove
        - attribute: area
          method: remove
        - attribute: dirRoot
          method: remove
        - attribute: udxDirs
          method: remove
        - attribute: codelists
          method: remove
        - attribute: dirSchemas
          method: remove
        - attribute: schemas
          method: remove
        - attribute: objectListPath
          method: remove

  - id: 9e3c6b8f-5a2d-4f7e-8c1a-4d9b6e3c8f5a
    name: FeatureWriterLod2-4InvalidSurface
    type: action
    action: FeatureWriter
    with:
      format: csv
      output: |
        file::join_path(env.get("workerArtifactPath") ?? env.get("outputPath"), "02_建築物_LOD2以上境界面のエラー.csv")

  - id: 77a7b8c9-0d1e-2f3a-4b5c-6d7e8f9a0b1c
    name: Lod2-4InvalidSurfaceCounter
    type: action
    action: StatisticsCalculator
    with:
      aggregateName: gmlFilename
      aggregateAttribute: gmlFilename
      calculations:
        - newAttribute: _num_lod2_invalid_surface
          expr: |
            if env.get("__value").lod == "2" { 1 } else { 0 }
        - newAttribute: _num_lod3_invalid_surface
          expr: |
            if env.get("__value").lod == "3" { 1 } else { 0 }
        - newAttribute: _num_lod4_invalid_surface
          expr: |
            if env.get("__value").lod == "4" { 1 } else { 0 }

  - id: 88b8c9d0-1e2f-3a4b-5c6d-7e8f9a0b1c2d
    name: ErrorCount-Lod2InvalidSurface
    type: action
    action: OutputRouter
    with:
      routingPort: errorCountLod2InvalidSurface

  - id: 99b9d0e1-2f3a-4b5c-6d7e-8f9a0b1c2d3e
    name: ErrorCount-Lod3InvalidSurface
    type: action
    action: OutputRouter
    with:
      routingPort: errorCountLod3InvalidSurface

  - id: aabacbdc-3ede-4f5a-6b7c-8d9e0f1a2b3c
    name: ErrorCount-Lod4InvalidSurface
    type: action
    action: OutputRouter
    with:
      routingPort: errorCountLod4InvalidSurface

  # Surface Intersection (LOD0) and DestinationMeshCodeExtractor
  - id: aa1bb2cc-3dd4-4ee5-9ff6-0aa7bb8cc9dd
    name: GeometryCoercerLod0SurfaceIntersection
    type: action
    action: GeometryCoercer
    with:
      coercerType: lineString

  - id: cc3dd4ee-5ff6-4aa7-9bb8-2cc9dd0ee1aa
    name: TwoDimensionForcer
    type: action
    action: TwoDimensionForcer

  # Surface Intersection (LOD0)
  - id: bb2cc3dd-4ee5-4ff6-9aa7-1bb8cc9dd0ee
    name: AreaOnAreaOverlayerLod0
    type: action
    action: AreaOnAreaOverlayer
    with:
      accumulationMode: dropIncomingAttributes
      outputAttribute: overlap
      generateList: list

  - id: dd4ee5ff-6aa7-4bb8-9cc9-2dd0ee1ff2aa
    name: FeatureFilterByAreaOnAreaOverlap
    type: action
    action: FeatureFilter
    with:
      conditions:
        - expr: |
            env.get("__value").overlap > 1
          outputPort: intersectionSurface

  - id: ee1ff2aa-3bb4-4cc5-9dd6-7ee8ff3aa9bb
    name: ListIndexer1
    type: action
    action: ListIndexer
    with:
      listAttribute: list
      listIndexToCopy: 0
      copiedAttributeSuffix: _1

  - id: ff2aa3bb-4cc5-4dd6-9ee7-8ff9aa2bb0cc
    name: ListIndexer2
    type: action
    action: ListIndexer
    with:
      listAttribute: list
      listIndexToCopy: 1
      copiedAttributeSuffix: _2

  - id: ff6aa7bb-8cc9-4dd0-9ee1-4ff2aa3bb4cc
    name: AttributeMapperLod0SurfaceIntersection
    type: action
    action: AttributeMapper
    with:
      mappers:
        - attribute: filename_a
          expr: env.get("__value").gmlFilename_1
        - attribute: filename_b
          expr: env.get("__value").gmlFilename_2
        - attribute: feature_type_a
          expr: env.get("__value").featureType_1
        - attribute: feature_type_b
          expr: env.get("__value").featureType_2
        - attribute: lod_a
          expr: env.get("__value").lod_1
        - attribute: lod_b
          expr: env.get("__value").lod_2
        - attribute: gml_id_a
          expr: env.get("__value").gmlId_1
        - attribute: gml_id_b
          expr: env.get("__value").gmlId_2
        - attribute: issue
          expr: |
            "Surface Intersection"

  - id: aa7bb8cc-9dd0-4ee1-9ff2-5aa3bb4cc5dd
    name: FeatureWriterLod0SurfaceIntersection
    type: action
    action: FeatureWriter
    with:
      format: csv
      output: |
        file::join_path(env.get("workerArtifactPath") ?? env.get("outputPath"), "02_建築物_LOD0面の交差.csv")

  - id: 99a9b0c1-2d3e-4f5a-6b7c-8d9e0f1a2b3c
    name: Lod0SurfaceIntersectionCounter
    type: action
    action: StatisticsCalculator
    with:
      aggregateName: gmlFilename
      aggregateAttribute: filename_a
      calculations:
        - newAttribute: _num_lod0_surface_intersection
          expr: "1"

  - id: 00b0c1d2-3e4f-5a6b-7c8d-9e0f1a2b3c4d
    name: ErrorCount-Lod0SurfaceIntersection
    type: action
    action: OutputRouter
    with:
      routingPort: errorCountLod0SurfaceIntersection

  # PLATEAU4.DestinationMeshCodeExtractor
  - id: 1a2b3c4d-5e6f-4a7b-8c9d-0e1f2a3b4c5d
    name: DestinationMeshCodeExtractor
    type: action
    action: PLATEAU4.DestinationMeshCodeExtractor
    with:
      meshType: 3
      epsgCode: env.get("prcs") ?? "6675"
      meshcodeAttr: "meshcode"

  - id: 2b3c4d5e-6f7a-4b8c-9d0e-1f2a3b4c5d6e
    name: MeshCodeTester
    type: action
    action: FeatureFilter
    with:
      conditions:
        - expr: |
            !env.get("__value").gmlFilename.starts_with(env.get("__value").meshcode)
          outputPort: failed

  - id: 3c4d5e6f-7a8b-4c9d-0e1f-2a3b4c5d6e8f
    name: AttributeMapperIncorrectMeshCode
    type: action
    action: AttributeMapper
    with:
      mappers:
        - attribute: gmlFilename
          expr: |
            env.get("__value").gmlFilename
        - attribute: filename
          expr: |
            env.get("__value").gmlFilename
        - attribute: feature_type
          expr: |
            env.get("__value").featureType
        - attribute: lod
          expr: |
            env.get("__value").lod
        - attribute: gml_id
          expr: |
            env.get("__value").gmlId
        - attribute: meshcode
          expr: |
            env.get("__value").meshcode
        - attribute: meshcount
          expr: |
            env.get("__value")._mesh_count
        - attribute: mesh2area
          expr: |
            env.get("__value")._meshcode_to_area

  - id: 77e7f8a9-0b1c-2d3e-4f5a-6b7c8d9e0f1a
    name: AttributeManagerIncorrectMeshCode
    type: action
    action: AttributeManager
    with:
      operations:
        - attribute: gmlFilename
          method: remove

  - id: 4d5e6f7a-8b9c-4d0e-1f2a-3b4c5d6e7f9a
    name: FeatureWriterIncorrectMeshCode
    type: action
    action: FeatureWriter
    with:
      format: csv
      output: |
        file::join_path(env.get("workerArtifactPath") ?? env.get("outputPath"), "02_建築物_図郭不正.csv")

  - id: 11c1d2e3-4f5a-6b7c-8d9e-0f1a2b3c4d5e
    name: IncorrectMeshCodeCounter
    type: action
    action: StatisticsCalculator
    with:
      aggregateName: gmlFilename
      aggregateAttribute: gmlFilename
      calculations:
        - newAttribute: _num_incorrect_meshcode
          expr: "1"

  - id: 22d2e3f4-5a6b-7c8d-9e0f-1a2b3c4d5e6f
    name: ErrorCount-IncorrectMeshCode
    type: action
    action: OutputRouter
    with:
      routingPort: errorCountIncorrectMeshcode

  # Output
  - id: 5e2c9b7a-8d4f-4b1e-9c6a-3f5d8b2e7c4a
    name: OutputRouter
    type: action
    action: OutputRouter
    with:
      routingPort: fileOutput


  # SolidBoundaryValidator
  - id: ecaceb7b-ff98-4744-acf7-17e80829d6f3
    name: SolidBoundaryValidator
    type: action
    action: SolidBoundaryValidator

  - id: d0132191-a81f-4647-896d-5db49e3fb734
    name: FeatureFilterInvalidSolidBoundary
    type: action
    action: FeatureFilter
    with:
      conditions:
        - expr: |
            let issue = env.get("__value").solid_boundary_issues.issue;
            issue == "NotA2Manifold"
          outputPort: notClosed

  - id: e57bec12-7e6e-4edf-8ce2-14fbd12a7f92
    name: AttributeManagerSolidBoundaryInvalidNotClosed
    type: action
    action: AttributeManager
    with:
      operations:
        - attribute: gmlFilename
          method: rename
          value: filename
        - attribute: featureType
          method: rename
          value: feature_type
        - attribute: gmlId
          method: rename
          value: gml_id
        - attribute: issue
          method: create
          value: |
            "Surface Not Closed"
        # remove
        - attribute: solid_boundary_issues
          method: remove
        - attribute: surfaceId
          method: remove
        - attribute: dirCodelists
          method: remove
        - attribute: featureIndex
          method: remove
        - attribute: dirSchemas
          method: remove
        - attribute: featureId
          method: remove
        - attribute: geometryName
          method: remove
        - attribute: featureParentId
          method: remove
        - attribute: root
          method: remove
        - attribute: gmlRootId
          method: remove
        - attribute: udxDirs
          method: remove
        - attribute: admin
          method: remove
        - attribute: cityGmlAttributes
          method: remove
        - attribute: package
          method: remove
        - attribute: area
          method: remove
        - attribute: fileIndex
          method: remove
        - attribute: dirRoot
          method: remove
        - attribute: gmlName
          method: remove
        - attribute: extension
          method: remove
        - attribute: maxLod
          method: remove
        - attribute: filename
          method: remove
        - attribute: gmlPath
          method: remove

  - id: 89712e8f-e0ac-4bb3-a92f-c5ff06fe4c96
    name: FeatureWriterL14-BoundaryNotClosed
    type: action
    action: FeatureWriter
    with:
      format: csv
      output: |
        file::join_path(env.get("workerArtifactPath") ?? env.get("outputPath"), "02_建築物_非水密体.csv")

  - id: 33e3f4a5-6b7c-8d9e-0f1a-2b3c4d5e6f7a
    name: Lod1-4NotClosedSolidCounter
    type: action
    action: StatisticsCalculator
    with:
      aggregateName: gmlFilename
      aggregateAttribute: gmlFilename
      calculations:
        - newAttribute: _num_lod1_not_closed_solid
          expr: |
            if env.get("__value").lod == "1" { 1 } else { 0 }
        - newAttribute: _num_lod2_not_closed_solid
          expr: |
            if env.get("__value").lod == "2" { 1 } else { 0 }
        - newAttribute: _num_lod3_not_closed_solid
          expr: |
            if env.get("__value").lod == "3" { 1 } else { 0 }
        - newAttribute: _num_lod4_not_closed_solid
          expr: |
            if env.get("__value").lod == "4" { 1 } else { 0 }

  - id: 44f4a5b6-7c8d-9e0f-1a2b-3c4d5e6f7a8b
    name: ErrorCount-Lod1NotClosedSolid
    type: action
    action: OutputRouter
    with:
      routingPort: errorCountLod1NotClosedSolid

  - id: 64ff1eee-0d1a-42a1-b32d-fde94ffac693
    name: AttributeManagerSolidBoundaryInvalidOtherIssues
    type: action
    action: AttributeManager
    with:
      operations:
        - attribute: gmlFilename
          method: rename
          value: filename
        - attribute: featureType
          method: rename
          value: feature_type
        - attribute: gmlId
          method: rename
          value: gml_id
        - attribute: issue
          method: create
          value: |
            "InvalidSolidBoundaries"
        # remove
        - attribute: solid_boundary_issues
          method: remove
        - attribute: surfaceId
          method: remove
        - attribute: dirCodelists
          method: remove
        - attribute: featureIndex
          method: remove
        - attribute: dirSchemas
          method: remove
        - attribute: featureId
          method: remove
        - attribute: geometryName
          method: remove
        - attribute: featureParentId
          method: remove
        - attribute: root
          method: remove
        - attribute: gmlRootId
          method: remove
        - attribute: udxDirs
          method: remove
        - attribute: admin
          method: remove
        - attribute: cityGmlAttributes
          method: remove
        - attribute: package
          method: remove
        - attribute: area
          method: remove
        - attribute: fileIndex
          method: remove
        - attribute: dirRoot
          method: remove
        - attribute: gmlName
          method: remove
        - attribute: extension
          method: remove
        - attribute: maxLod
          method: remove
        - attribute: filename
          method: remove
        - attribute: gmlPath
          method: remove

  - id: 527087b4-0411-49bd-ae5f-c1c7f9a5ccb8
    name: FeatureWriterL14-BoundaryOtherIssues
    type: action
    action: FeatureWriter
    with:
      format: csv
      output: |
        file::join_path(env.get("workerArtifactPath") ?? env.get("outputPath"), "02_建築物_立体のエラー.csv")

  - id: 55a5b6c7-8d9e-0f1a-2b3c-4d5e6f7a8b9c
    name: Lod1-4SolidIssuesCounter
    type: action
    action: StatisticsCalculator
    with:
      aggregateName: gmlFilename
      aggregateAttribute: gmlFilename
      calculations:
        - newAttribute: _num_lod1_solid_issues
          expr: |
            if env.get("__value").lod == "1" { 1 } else { 0 }
        - newAttribute: _num_lod2_solid_issues
          expr: |
            if env.get("__value").lod == "2" { 1 } else { 0 }
        - newAttribute: _num_lod3_solid_issues
          expr: |
            if env.get("__value").lod == "3" { 1 } else { 0 }
        - newAttribute: _num_lod4_solid_issues
          expr: |
            if env.get("__value").lod == "4" { 1 } else { 0 }

  - id: 66b6c7d8-9e0f-1a2b-3c4d-5e6f7a8b9c0d
    name: ErrorCount-Lod1SolidIssues
    type: action
    action: OutputRouter
    with:
      routingPort: errorCountLod1SolidIssues

  - id: 77c7d8e9-0f1a-2b3c-4d5e-6f7a8b9c0d1e
    name: ErrorCount-Lod2NotClosedSolid
    type: action
    action: OutputRouter
    with:
      routingPort: errorCountLod2NotClosedSolid

  - id: 88d8e9f0-1a2b-3c4d-5e6f-7a8b9c0d1e2f
    name: ErrorCount-Lod3NotClosedSolid
    type: action
    action: OutputRouter
    with:
      routingPort: errorCountLod3NotClosedSolid

  - id: 99e9f0a1-2b3c-4d5e-6f7a-8b9c0d1e2f3a
    name: ErrorCount-Lod4NotClosedSolid
    type: action
    action: OutputRouter
    with:
      routingPort: errorCountLod4NotClosedSolid

  - id: aaf0a1b2-3c4d-5e6f-7a8b-9c0d1e2f3a4b
    name: ErrorCount-Lod2SolidIssues
    type: action
    action: OutputRouter
    with:
      routingPort: errorCountLod2SolidIssues

  - id: bbf1b2c3-4d5e-6f7a-8b9c-0d1e2f3a4b5c
    name: ErrorCount-Lod3SolidIssues
    type: action
    action: OutputRouter
    with:
      routingPort: errorCountLod3SolidIssues

  - id: ccf2c3d4-5e6f-7a8b-9c0d-1e2f3a4b5c6d
    name: ErrorCount-Lod4SolidIssues
    type: action
    action: OutputRouter
    with:
      routingPort: errorCountLod4SolidIssues

  - id: 6e8e985a-8ae5-46cd-8521-74f0f74a7ec2
    name: SolidBoundaryNotClosedIssueCounter
    type: action
    action: StatisticsCalculator
    with:
      aggregateName: gmlFilename
      aggregateAttribute: filename
      calculations:
        - newAttribute: _num_lod1_not_closed_solid
          expr: "1"

  - id: bc5638de-624d-46a2-a40b-59dde392ff97
    name: SolidBoundaryNotClosedIssueCountOutputRouter
    type: action
    action: OutputRouter
    with:
      routingPort: errorCountLod1NotClosedSolid

  - id: 016a8afe-3aa7-4047-8c8c-9f6f8464b03c
    name: SolidBoundaryOtherIssueCounter
    type: action
    action: StatisticsCalculator
    with:
      aggregateName: gmlFilename
      aggregateAttribute: filename
      calculations:
        - newAttribute: _num_lod1_solid_issues
          expr: "1"

  - id: 26ad749b-0ee1-4f6e-b8e0-8f3ff2fe4056
    name: SolidBoundaryOtherIssueCountOutputRouter
    type: action
    action: OutputRouter
    with:
      routingPort: errorCountLod1SolidIssues

edges:
  - id: 8c4d7e2a-5b6f-4918-a3e5-9d1c8b7a6e4f
    from: 5d8f3c2e-9a4b-4e1c-8f7a-3c5d9e2b8a1f
    to: e9f2c5b8-3a7d-4c1e-8b6f-2d9a5c8e1b4f
    fromPort: default
    toPort: default

  - id: 2f5a8c9d-6e3b-4c7a-9f8e-1d4c7b5a9e2f
    from: e9f2c5b8-3a7d-4c1e-8b6f-2d9a5c8e1b4f
    to: 3c8d9e7f-2a5b-4f1c-8e6a-9d3c5b8e1a4f
    fromPort: lod0
    toPort: default

  - id: 9b7d5e3c-4f8a-4e2b-9c1a-8d6f5b3e7c2a
    from: 3c8d9e7f-2a5b-4f1c-8e6a-9d3c5b8e1a4f
    to: a7b3c9e5-4f8d-4c2e-9a1b-6e3f5d8c2a7b
    fromPort: inCorrectOrientation
    toPort: default

  - id: 6d4c8e2b-7a5f-4b3e-8c9a-5e2d9b6c8f1a
    from: a7b3c9e5-4f8d-4c2e-9a1b-6e3f5d8c2a7b
    to: 5e2c9b7a-8d4f-4b1e-9c6a-3f5d8b2e7c4a
    fromPort: default
    toPort: default

  - id: 7c1e5b9d-3f8a-4e2c-9b6d-8a5c2e7f4b1c
    from: 3c8d9e7f-2a5b-4f1c-8e6a-9d3c5b8e1a4f
    to: 33c3d4e5-6f7a-8b9c-0d1e-2f3a4b5c6d7e
    fromPort: invalidSurface
    toPort: default

  # LOD0 Invalid Surface: Counter → AttributeMapper → Writer
  - id: e3c7d1b5-9a4f-4e8b-8c2d-6f1a9e3b8c5d
    from: 33c3d4e5-6f7a-8b9c-0d1e-2f3a4b5c6d7e
    to: b1f5a9c3-7e2d-4a8c-9f6b-2d8e5c3a7b9f
    fromPort: complete
    toPort: default

  - id: e3c7d1b5-9a4f-4e8b-8c2d-6f1a9e3b8c5e
    from: b1f5a9c3-7e2d-4a8c-9f6b-2d8e5c3a7b9f
    to: f8e2a4c6-5d9b-4f7e-8c3a-1e6d4b8f2c5a
    fromPort: default
    toPort: default

  - id: e3c7d1b5-9a4f-4e8b-8c2d-6f1a9e3b8c5f
    from: 33c3d4e5-6f7a-8b9c-0d1e-2f3a4b5c6d7e
    to: 44d4e5f6-7a8b-9c0d-1e2f-3a4b5c6d7e8f
    fromPort: default
    toPort: default

  - id: 4b6e8f2d-9c3a-4e7f-8b1d-5a9c2e6f8b3d
    from: f8e2a4c6-5d9b-4f7e-8c3a-1e6d4b8f2c5a
    to: 5e2c9b7a-8d4f-4b1e-9c6a-3f5d8b2e7c4a
    fromPort: default
    toPort: default

  - id: 6a4ed27d-58b6-4021-ae4c-d919534e5fb3
    from: e9f2c5b8-3a7d-4c1e-8b6f-2d9a5c8e1b4f
    to: 950407af-eec5-49ee-902c-2b41f31150d3
    fromPort: lod1
    toPort: default

  # LOD1 Invalid Surface: Validator → Counter → AttributeMapper → Writer
  - id: 8f3b5d9e-7c2a-4e6f-9d3b-5a8c1e4f7b2d
    from: 950407af-eec5-49ee-902c-2b41f31150d3
    to: 55e5f6a7-8b9c-0d1e-2f3a-4b5c6d7e8f9a
    fromPort: invalidSurface
    toPort: default

  - id: 2a6c8f4d-5e9b-4c7a-8f2d-9b5e3c6a8f1d
    from: 55e5f6a7-8b9c-0d1e-2f3a-4b5c6d7e8f9a
    to: c2e8f4a6-9b3d-4e7c-8a5f-1d9b6e4c7f2a
    fromPort: complete
    toPort: default

  - id: 2a6c8f4d-5e9b-4c7a-8f2d-9b5e3c6a8f1f
    from: 55e5f6a7-8b9c-0d1e-2f3a-4b5c6d7e8f9a
    to: 66f6a7b8-9c0d-1e2f-3a4b-5c6d7e8f9a0b
    fromPort: default
    toPort: default

  - id: 2a6c8f4d-5e9b-4c7a-8f2d-9b5e3c6a8f1e
    from: c2e8f4a6-9b3d-4e7c-8a5f-1d9b6e4c7f2a
    to: d5a7b9f3-6e4c-4d8a-9f2b-3c7e8d5a6b9f
    fromPort: default
    toPort: default

  - id: 7e1d9c5b-3f8a-4e2c-9b6d-8a5c2e7f4b1c
    from: d5a7b9f3-6e4c-4d8a-9f2b-3c7e8d5a6b9f
    to: 5e2c9b7a-8d4f-4b1e-9c6a-3f5d8b2e7c4a
    fromPort: default
    toPort: default

  # LodSplitterWithDM to FeatureFilter
  - id: 9d3f6a8e-4c7b-4e2a-8f5d-2b9c5e8a1f6d
    from: e9f2c5b8-3a7d-4c1e-8b6f-2d9a5c8e1b4f
    to: 4f7a9b2e-5c8d-4e3a-9f6b-1d4c7e9a2b5f
    fromPort: lod2
    toPort: default

  - id: 8e5b7c4f-2a9d-4f6e-9c3b-7a4f8e2c5b9d
    from: e9f2c5b8-3a7d-4c1e-8b6f-2d9a5c8e1b4f
    to: 4f7a9b2e-5c8d-4e3a-9f6b-1d4c7e9a2b5f
    fromPort: lod3
    toPort: default

  - id: 6c2e9f5a-7b4d-4c8e-9f2a-5d8c3e6f9b2a
    from: e9f2c5b8-3a7d-4c1e-8b6f-2d9a5c8e1b4f
    to: 4f7a9b2e-5c8d-4e3a-9f6b-1d4c7e9a2b5f
    fromPort: lod4
    toPort: default

  - id: 1a5f3c8d-9e2b-4d7a-8c6f-5b9e3d2a6f8c
    from: 4f7a9b2e-5c8d-4e3a-9f6b-1d4c7e9a2b5f
    to: 3b6e9c5d-8f2a-4d7b-9e3c-6a1f4b9e2c5d
    fromPort: default
    toPort: default

  - id: 2b6f4d9e-3c8a-4e5b-9d7c-6a8f2e5c9b4d
    from: 3b6e9c5d-8f2a-4d7b-9e3c-6a1f4b9e2c5d
    to: 7f2a5c8d-4b9e-4c3a-9f6d-2e8b5c7a4f9d
    fromPort: invalidSurface
    toPort: default

  # LOD2-4 Invalid Surface: AttributeManager → Counter → Writer + 3 OutputRouters
  - id: 3c7f5e0a-4d9b-4f6c-8e4a-7b0f3c6d8e5a
    from: 7f2a5c8d-4b9e-4c3a-9f6d-2e8b5c7a4f9d
    to: 77a7b8c9-0d1e-2f3a-4b5c-6d7e8f9a0b1c
    fromPort: default
    toPort: default

  - id: 4d8f6f1b-5e0c-4f7d-9f5b-8c1f4d7e0f6b
    from: 77a7b8c9-0d1e-2f3a-4b5c-6d7e8f9a0b1c
    to: 9e3c6b8f-5a2d-4f7e-8c1a-4d9b6e3c8f5a
    fromPort: complete
    toPort: default

  - id: 5e9f7f2c-6f0d-4f8e-af6c-9d2f5e7f0f7c
    from: 9e3c6b8f-5a2d-4f7e-8c1a-4d9b6e3c8f5a
    to: 5e2c9b7a-8d4f-4b1e-9c6a-3f5d8b2e7c4a
    fromPort: default
    toPort: default

  - id: 6faf8f3d-7f1e-4f9f-bf7d-ae3f6e8f1f8d
    from: 77a7b8c9-0d1e-2f3a-4b5c-6d7e8f9a0b1c
    to: 88b8c9d0-1e2f-3a4b-5c6d-7e8f9a0b1c2d
    fromPort: default
    toPort: default

  - id: 7fbf9f4e-8f2f-4faf-cf8e-bf4f7e9f2f9e
    from: 77a7b8c9-0d1e-2f3a-4b5c-6d7e8f9a0b1c
    to: 99b9d0e1-2f3a-4b5c-6d7e-8f9a0b1c2d3e
    fromPort: default
    toPort: default

  - id: 8fcfaf5f-9f3f-4fbf-df9f-cf5f8faf3faf
    from: 77a7b8c9-0d1e-2f3a-4b5c-6d7e8f9a0b1c
    to: aabacbdc-3ede-4f5a-6b7c-8d9e0f1a2b3c
    fromPort: default
    toPort: default

  - id: 11aa22bb-33cc-44dd-55ee-66ff77aa88bb
    from: 3c8d9e7f-2a5b-4f1c-8e6a-9d3c5b8e1a4f
    to: aa1bb2cc-3dd4-4ee5-9ff6-0aa7bb8cc9dd
    fromPort: default
    toPort: default

  - id: cc3dd4ee-5ff6-4aa7-9bb8-2cc9dd0ee1ff
    from: aa1bb2cc-3dd4-4ee5-9ff6-0aa7bb8cc9dd
    to: cc3dd4ee-5ff6-4aa7-9bb8-2cc9dd0ee1aa
    fromPort: default
    toPort: default

  - id: cc3dd4ee-5ff6-4aa7-9bb8-2cc9dd0ee1bb
    from: cc3dd4ee-5ff6-4aa7-9bb8-2cc9dd0ee1aa
    to: bb2cc3dd-4ee5-4ff6-9aa7-1bb8cc9dd0ee
    fromPort: default
    toPort: default

  - id: ee5ff6aa-7bb8-4cc9-9dd0-3ee1ff2aa3bb
    from: bb2cc3dd-4ee5-4ff6-9aa7-1bb8cc9dd0ee
    to: dd4ee5ff-6aa7-4bb8-9cc9-2dd0ee1ff2aa
    fromPort: area
    toPort: default

  - id: bb8cc9dd-0ee1-4ff2-9aa3-6bb4cc5dd6ee
    from: dd4ee5ff-6aa7-4bb8-9cc9-2dd0ee1ff2aa
    to: ee1ff2aa-3bb4-4cc5-9dd6-7ee8ff3aa9bb
    fromPort: intersectionSurface
    toPort: default

  - id: aa2bb3cc-4dd5-4ee6-9ff7-8aa0bb1cc2dd
    from: ee1ff2aa-3bb4-4cc5-9dd6-7ee8ff3aa9bb
    to: ff2aa3bb-4cc5-4dd6-9ee7-8ff9aa2bb0cc
    fromPort: default
    toPort: default

  - id: bb3cc4dd-5ee6-4ff7-9aa8-9bb0cc1dd2ee
    from: ff2aa3bb-4cc5-4dd6-9ee7-8ff9aa2bb0cc
    to: ff6aa7bb-8cc9-4dd0-9ee1-4ff2aa3bb4cc
    fromPort: default
    toPort: default

  # LOD0 Surface Intersection: AttributeManager → Counter → Writer
  - id: cc9dd0ee-1ff2-4aa3-9bb4-7cc5dd6ee7ff
    from: ff6aa7bb-8cc9-4dd0-9ee1-4ff2aa3bb4cc
    to: 99a9b0c1-2d3e-4f5a-6b7c-8d9e0f1a2b3c
    fromPort: default
    toPort: default

  - id: cc9dd0ee-1ff2-4aa3-9bb4-7cc5dd6ee7fe
    from: 99a9b0c1-2d3e-4f5a-6b7c-8d9e0f1a2b3c
    to: aa7bb8cc-9dd0-4ee1-9ff2-5aa3bb4cc5dd
    fromPort: complete
    toPort: default

  - id: cc9dd0ee-1ff2-4aa3-9bb4-7cc5dd6ee7fd
    from: 99a9b0c1-2d3e-4f5a-6b7c-8d9e0f1a2b3c
    to: 00b0c1d2-3e4f-5a6b-7c8d-9e0f1a2b3c4d
    fromPort: default
    toPort: default

  - id: cc3dd4ee-5ff6-4aa7-9bb8-2cc9dd0ee1cc
    from: cc3dd4ee-5ff6-4aa7-9bb8-2cc9dd0ee1aa
    to: 1a2b3c4d-5e6f-4a7b-8c9d-0e1f2a3b4c5d
    fromPort: default
    toPort: default

  - id: 3c4d5e6f-7a8b-4c9d-0e1f-2a3b4c5d6e7f
    from: 1a2b3c4d-5e6f-4a7b-8c9d-0e1f2a3b4c5d
    to: 2b3c4d5e-6f7a-4b8c-9d0e-1f2a3b4c5d6e
    fromPort: default
    toPort: default

  - id: 4d5e6f7a-8b9c-4d0e-1f2a-3b4c5d6e7f8a
    from: 2b3c4d5e-6f7a-4b8c-9d0e-1f2a3b4c5d6e
    to: 5e2c9b7a-8d4f-4b1e-9c6a-3f5d8b2e7c4a
    fromPort: default
    toPort: default

  - id: dd0ee1ff-2aa3-4bb4-9cc5-8dd6ee7ff8aa
    from: aa7bb8cc-9dd0-4ee1-9ff2-5aa3bb4cc5dd
    to: 5e2c9b7a-8d4f-4b1e-9c6a-3f5d8b2e7c4a
    fromPort: default
    toPort: default

  - id: 1edf5ec7-a567-4ef6-9c70-92497d359ddf
    from: e9f2c5b8-3a7d-4c1e-8b6f-2d9a5c8e1b4f
    fromPort: lod1
    to: ecaceb7b-ff98-4744-acf7-17e80829d6f3
    toPort: default

  - id: 2fef6fd8-b678-5fa7-0d81-a350ae46aeee
    from: e9f2c5b8-3a7d-4c1e-8b6f-2d9a5c8e1b4f
    fromPort: lod2
    to: ecaceb7b-ff98-4744-acf7-17e80829d6f3
    toPort: default

  - id: 3ffa7ae9-c789-6fb8-1e92-b461bf57bfff
    from: e9f2c5b8-3a7d-4c1e-8b6f-2d9a5c8e1b4f
    fromPort: lod3
    to: ecaceb7b-ff98-4744-acf7-17e80829d6f3
    toPort: default

  - id: 4ffb8bfa-d890-7fc9-2fa3-c572cf68cfff
    from: e9f2c5b8-3a7d-4c1e-8b6f-2d9a5c8e1b4f
    fromPort: lod4
    to: ecaceb7b-ff98-4744-acf7-17e80829d6f3
    toPort: default

  - id: bf5d73d5-a6c6-4a06-bd22-52a02fdbd96f
    from: ecaceb7b-ff98-4744-acf7-17e80829d6f3
    to: d0132191-a81f-4647-896d-5db49e3fb734
    fromPort: failed
    toPort: default

  - id: 337a1460-27bf-4df9-8d8b-08c5c84509d1
    from: d0132191-a81f-4647-896d-5db49e3fb734
    to: e57bec12-7e6e-4edf-8ce2-14fbd12a7f92
    fromPort: notClosed
    toPort: default

  - id: 7a034ade-628d-4a74-ba34-069d744c15f4
    from: e57bec12-7e6e-4edf-8ce2-14fbd12a7f92
    to: 89712e8f-e0ac-4bb3-a92f-c5ff06fe4c96
    fromPort: default
    toPort: default

  - id: 9c6792d9-f844-42dd-aca4-eeb34f691c0e
    from: d0132191-a81f-4647-896d-5db49e3fb734
    to: 64ff1eee-0d1a-42a1-b32d-fde94ffac693
    fromPort: unfiltered
    toPort: default

  - id: 819866a6-4e4d-44c5-a2df-2cb6b1645a0c
    from: 64ff1eee-0d1a-42a1-b32d-fde94ffac693
    to: 527087b4-0411-49bd-ae5f-c1c7f9a5ccb8
    fromPort: default
    toPort: default

  - id: 4de69165-d302-4392-9899-af387553f5a8
    from: e57bec12-7e6e-4edf-8ce2-14fbd12a7f92
    to: 6e8e985a-8ae5-46cd-8521-74f0f74a7ec2
    fromPort: default
    toPort: default

  - id: 1478ecb6-8c64-4b25-80f1-eb158be5a9c5
    from: 6e8e985a-8ae5-46cd-8521-74f0f74a7ec2
    to: bc5638de-624d-46a2-a40b-59dde392ff97
    fromPort: default
    toPort: default

  - id: 24fe89e5-ee96-422a-9047-edd122c64c79
    from: 64ff1eee-0d1a-42a1-b32d-fde94ffac693
    to: 016a8afe-3aa7-4047-8c8c-9f6f8464b03c
    fromPort: default
    toPort: default

  - id: 01cef8a5-e953-4895-ad8e-93edbf2e65ae
    from: 016a8afe-3aa7-4047-8c8c-9f6f8464b03c
    to: 26ad749b-0ee1-4f6e-b8e0-8f3ff2fe4056
    fromPort: default
    toPort: default

  # NotClosedSolid Counter to LOD2-4 OutputRouters
  - id: 5eff6aa7-fa23-4392-0b00-bf488644f6a9
    from: 33e3f4a5-6b7c-8d9e-0f1a-2b3c4d5e6f7a
    to: 44f4a5b6-7c8d-9e0f-1a2b-3c4d5e6f7a8b
    fromPort: default
    toPort: default

  - id: 6ffe7bb8-0b34-5493-1c11-cf599755f7ba
    from: 33e3f4a5-6b7c-8d9e-0f1a-2b3c4d5e6f7a
    to: 77c7d8e9-0f1a-2b3c-4d5e-6f7a8b9c0d1e
    fromPort: default
    toPort: default

  - id: 7ffe8cc9-1c45-6594-2d22-df6aa866f8cb
    from: 33e3f4a5-6b7c-8d9e-0f1a-2b3c4d5e6f7a
    to: 88d8e9f0-1a2b-3c4d-5e6f-7a8b9c0d1e2f
    fromPort: default
    toPort: default

  - id: 8ffe9dda-2d56-7695-3e33-ef7bb977f9dc
    from: 33e3f4a5-6b7c-8d9e-0f1a-2b3c4d5e6f7a
    to: 99e9f0a1-2b3c-4d5e-6f7a-8b9c0d1e2f3a
    fromPort: default
    toPort: default

  # SolidIssues Counter to LOD2-4 OutputRouters
  - id: 9ffeaeeb-3e67-8796-4f44-ff8cca88faed
    from: 55a5b6c7-8d9e-0f1a-2b3c-4d5e6f7a8b9c
    to: 66b6c7d8-9e0f-1a2b-3c4d-5e6f7a8b9c0d
    fromPort: default
    toPort: default

  - id: affebbfc-4f78-9897-5f55-ffaddb99fbfe
    from: 55a5b6c7-8d9e-0f1a-2b3c-4d5e6f7a8b9c
    to: aaf0a1b2-3c4d-5e6f-7a8b-9c0d1e2f3a4b
    fromPort: default
    toPort: default

  - id: bffeccfd-5f89-a998-6f66-ffbeeccaafcf
    from: 55a5b6c7-8d9e-0f1a-2b3c-4d5e6f7a8b9c
    to: bbf1b2c3-4d5e-6f7a-8b9c-0d1e2f3a4b5c
    fromPort: default
    toPort: default

  - id: cffedfee-6f9a-ba99-7f77-ffcffddbbfdf
    from: 55a5b6c7-8d9e-0f1a-2b3c-4d5e6f7a8b9c
    to: ccf2c3d4-5e6f-7a8b-9c0d-1e2f3a4b5c6d
    fromPort: default
    toPort: default

  # MeshCodeTester (failed port)
  - id: 5e6f7a8b-9c0d-4e1f-2a3b-4c5d6e7f8a9b
    from: 2b3c4d5e-6f7a-4b8c-9d0e-1f2a3b4c5d6e
    to: 3c4d5e6f-7a8b-4c9d-0e1f-2a3b4c5d6e8f
    fromPort: failed
    toPort: default

  - id: 6f7a8b9c-0d1e-4f2a-3b4c-5d6e7f8a9b0c
    from: 3c4d5e6f-7a8b-4c9d-0e1f-2a3b4c5d6e8f
    to: 77e7f8a9-0b1c-2d3e-4f5a-6b7c8d9e0f1a
    fromPort: default
    toPort: default

  - id: 66d6e7f8-9a0b-1c2d-3e4f-5a6b7c8d9e0f
    from: 77e7f8a9-0b1c-2d3e-4f5a-6b7c8d9e0f1a
    to: 4d5e6f7a-8b9c-4d0e-1f2a-3b4c5d6e7f9a
    fromPort: default
    toPort: default

  - id: 88f8a9b0-1c2d-3e4f-5a6b-7c8d9e0f1a2b
    from: 3c4d5e6f-7a8b-4c9d-0e1f-2a3b4c5d6e8f
    to: 11c1d2e3-4f5a-6b7c-8d9e-0f1a2b3c4d5e
    fromPort: default
    toPort: default

  - id: 99a9b0c1-2d3e-4f5a-6b7c-8d9e0f1a2b3c
    from: 11c1d2e3-4f5a-6b7c-8d9e-0f1a2b3c4d5e
    to: 22d2e3f4-5a6b-7c8d-9e0f-1a2b3c4d5e6f
    fromPort: default
    toPort: default

  - id: 7a8b9c0d-1e2f-403b-4c5d-6e7f8a9b0c1d
    from: 4d5e6f7a-8b9c-4d0e-1f2a-3b4c5d6e7f9a
    to: 5e2c9b7a-8d4f-4b1e-9c6a-3f5d8b2e7c4a
    fromPort: default
    toPort: default

  # Connect FeatureWriterL14-BoundaryNotClosed to OutputRouter
  - id: 8b9c0d1e-2f3a-4b5c-6d7e-8f9a0b1c2d3e
    from: 89712e8f-e0ac-4bb3-a92f-c5ff06fe4c96
    to: 5e2c9b7a-8d4f-4b1e-9c6a-3f5d8b2e7c4a
    fromPort: default
    toPort: default

  # Connect FeatureWriterL14-BoundaryOtherIssues to OutputRouter
  - id: 9c0d1e2f-3a4b-5c6d-7e8f-9a0b1c2d3e4f
    from: 527087b4-0411-49bd-ae5f-c1c7f9a5ccb8
    to: 5e2c9b7a-8d4f-4b1e-9c6a-3f5d8b2e7c4a
    fromPort: default
    toPort: default

# Export error count ports for aggregation in parent workflow
ports:
  outputs:
    - id: errorCountLod0IncorrectOrientation
      nodeId: 22b2c3d4-5e6f-7a8b-9c0d-1e2f3a4b5c6d
      port: default
    - id: errorCountLod0InvalidSurface
      nodeId: 44d4e5f6-7a8b-9c0d-1e2f-3a4b5c6d7e8f
      port: default
    - id: errorCountLod0SurfaceIntersection
      nodeId: 00b0c1d2-3e4f-5a6b-7c8d-9e0f1a2b3c4d
      port: default
    - id: errorCountLod1InvalidSurface
      nodeId: 66f6a7b8-9c0d-1e2f-3a4b-5c6d7e8f9a0b
      port: default
    - id: errorCountLod1NotClosedSolid
      nodeId: bc5638de-624d-46a2-a40b-59dde392ff97
      port: default
    - id: errorCountLod1SolidIssues
      nodeId: 26ad749b-0ee1-4f6e-b8e0-8f3ff2fe4056
      port: default
    - id: errorCountLod2InvalidSurface
      nodeId: 88b8c9d0-1e2f-3a4b-5c6d-7e8f9a0b1c2d
      port: default
    - id: errorCountLod3InvalidSurface
      nodeId: 99b9d0e1-2f3a-4b5c-6d7e-8f9a0b1c2d3e
      port: default
    - id: errorCountLod4InvalidSurface
      nodeId: aabacbdc-3ede-4f5a-6b7c-8d9e0f1a2b3c
      port: default
    - id: errorCountIncorrectMeshcode
      nodeId: 22d2e3f4-5a6b-7c8d-9e0f-1a2b3c4d5e6f
      port: default
    - id: errorCountLod2NotClosedSolid
      nodeId: 77c7d8e9-0f1a-2b3c-4d5e-6f7a8b9c0d1e
      port: default
    - id: errorCountLod3NotClosedSolid
      nodeId: 88d8e9f0-1a2b-3c4d-5e6f-7a8b9c0d1e2f
      port: default
    - id: errorCountLod4NotClosedSolid
      nodeId: 99e9f0a1-2b3c-4d5e-6f7a-8b9c0d1e2f3a
      port: default
    - id: errorCountLod2SolidIssues
      nodeId: aaf0a1b2-3c4d-5e6f-7a8b-9c0d1e2f3a4b
      port: default
    - id: errorCountLod3SolidIssues
      nodeId: bbf1b2c3-4d5e-6f7a-8b9c-0d1e2f3a4b5c
      port: default
    - id: errorCountLod4SolidIssues
      nodeId: ccf2c3d4-5e6f-7a8b-9c0d-1e2f3a4b5c6d
      port: default
    - id: fileOutput
      nodeId: 5e2c9b7a-8d4f-4b1e-9c6a-3f5d8b2e7c4a
      port: default
